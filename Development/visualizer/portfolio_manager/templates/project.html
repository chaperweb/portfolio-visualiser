{% extends "base.html" %}

{# TITLE HERE #}
{% block title %}
Projects
{% endblock %}

{# CSS HERE #}
{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static "portfolio_manager/css/project.css" %}">
{% endblock %}

{% block javascript %}
{% load static%}
<script src="{% static "portfolio_manager/js/modify_project.js" %}"></script>
{% endblock %}

{# CONTENT HERE #}
{% block content %}
<!-- Sidebar -->
<div class="sidebar navbar-fixed-left navbar-inverse xs-hidden col-md-2">
  <ul class="nav navbar-nav">
    <!-- Press this list item to show all the projects -->
    <li data-toggle="collapse" data-target="#projects" class="navbar-toggle sidebar-item">Projects</li>
    <li>
      <!-- Expandable list with all the projects -->
      <div id="projects" class="collapse">
        <ul class="nav navbar-collapse">
          {% for p in projects %}
            <li><a class="sidebar-subitem" href="/projects/{{p.pk}}">{{p.name}}</a></li>
          {% endfor %}
        </ul>
      </div>
    </li>
  </ul>
</div>
<!-- /sidebar -->

<!-- Modals -->
{% include "modals/modify_text_modal.html" %}
{% include "modals/modify_org_modal.html" %}
{% include "modals/modify_dec_modal.html" %}
{% include "modals/modify_per_modal.html" %}
{% include "modals/modify_date_modal.html" %}
{% include "modals/modify_assorg_modal.html" %}

<!-- Page Content -->
<div id="page-content-wrapper">
  <div class="container col-lg-10">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <!-- Project name -->
        <div class="title text-center"><b>{{ project.name }}</b></div>
        <div class="panel-group">
          <!-- ORGANIZATION -->
          <div class="panel panel-default">
            <div class="panel-heading row" data-toggle="collapse" href="#org-panel" aria-controls="#org-panel" aria-expanded="false">
              <div class="col-md-1">
                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
              </div>
              <div class="col-md-2">
                Organization
              </div>
              <div id="projectparent" class="col-md-2 col-md-offset-4">
                {{ project.parent }}
              </div>
              <div class="col-md-1 pull-right">
                <button class="btn btn-xs btn-default open-modify" data-type="text" data-field="Organization" data-value="{{project.parent}}" data-toggle="modal" data-target="#modify-org-modal">
                  Modify
                </button>
              </div>
            </div>
            <div id="org-panel" class="panel-collapse panel-body collapse text-center row">
              <div>THIS<br />IS<br />WHERE<br />THE<br />HISTORY<br />COMES</div>
            </div>
          </div>
          <!-- BUDGET -->
          <div class="panel panel-default">
            <div class="panel-heading row" data-toggle="collapse" href="#budget-panel" aria-controls="#budget-panel" aria-expanded="false">
              <div class="col-lg-1">
                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
              </div>
              <div class="col-lg-2">
                {{ budget.dimension_object.name }}:
              </div>
              <div id="{{ budget.dimension_object.name }}" class="col-lg-2 col-lg-offset-4">
                {{ budget.dimension_object.value }}
              </div>
              <div class="col-md-1 pull-right">
              <button class="btn btn-xs btn-default open-modify-dec" data-type="number" data-field="{{ budget.dimension_object.name }}" data-value="{{budget.dimension_object.value}}" data-toggle="modal" data-target="#modify-dec-modal">
                Modify
              </button>
              </div>
            </div>
            <div id="budget-panel" class="panel-collapse panel-body collapse text-center">
              THIS
              <br />IS
              <br />WHERE
              <br />THE
              <br />HISTORY
              <br />COMES
            </div>
          </div>
          <!-- DATE FIELDS -->
          {% for x in dates %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-date" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-date-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- TEXT FIELDS -->
          {% for x in text %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-text" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-text-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- DECIMAL FIELDS -->
          {% for x in decfield %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-dec" data-type="number" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-dec-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- ASSOCIATED PERSON FIELDS -->
          {% for x in assPerson %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-per" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-per-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- ASSOCIATED PERSONS FIELDS -->
          <!-- TODO: Loop through people and add their names as values -->
          <!-- TODO: Implement -->
          {% for x in assPersons %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-text" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-text-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- ASSOCIATED ORGANIZATION FIELDS -->
          {% for x in assOrg %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-assorg" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-assorg-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
          <!-- ASSOCIATED PROJECTS FIELDS -->
          <!-- TODO: Loop through projects and add them, maybe as dropdown list? -->
          <!-- TODO: Implement -->
          {% for x in assProjs %}
            <div class="panel panel-default">
              <div class="panel-heading row" data-toggle="collapse" href="#{{x.dimension_object.name}}-panel" aria-controls="#{{x.dimension_object.name}}-panel" aria-expanded="false">
                <div class="col-lg-1">
                  <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                  <span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>
                </div>
                <div class="col-lg-2">
                  {{x.dimension_object.name}}:
                </div>
                <div id="{{x.dimension_object.name}}" class="col-lg-2 col-lg-offset-4">
                  {{ x.dimension_object.value }}
                </div>
                <div class="col-md-1 pull-right">
                  <button class="btn btn-xs btn-default open-modify-text" data-type="text" data-field="{{x.dimension_object.name}}" data-value="{{ x.dimension_object.value }}" data-toggle="modal" data-target="#modify-text-modal">
                    Modify
                  </button>
                </div>
              </div>
              <div id="{{x.dimension_object.name}}-panel" class="panel-collapse panel-body collapse text-center">
                THIS
                <br />IS
                <br />WHERE
                <br />THE
                <br />HISTORY
                <br />COMES
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /#page-content-wrapper -->
{% endblock %}
